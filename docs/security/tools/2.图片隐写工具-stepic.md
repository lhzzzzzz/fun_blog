---
# 这是页面的图标
icon: api
# 这是文章的标题
title: 图片隐写工具-stepic
# 设置作者
author: lhz
# 设置写作时间
time: 2022-01-24
# 一个页面只能有一个分类
category: 安全工具
# 一个页面可以有多个标签
tag:
  - 工具
  - CTF
  - 隐写
comment: false
typora-root-url: ..\..\..\.vuepress\public
---



pip安装上stepic

图片只能使用BMP或者PNG格式的图片

测试代码：

```python
from stepic import Steganographer
from PIL import Image

def encode():
    ##将文本a隐藏到a.png图片中
    img = Image.open('./a.png')
    s = Steganographer(img)

    d = open('./a')
    c = d.read()
    d.close()

    img = s.encode(c)
    #保存为r.png
    img.save('./r.png')


def decode_img():
    ##从图片提取出隐藏的文本中的内容
    img = Image.open('./r.png')
    s = Steganographer(img)
    print s.decode()
```

封装下以便使用：

```python
import stepic
from PIL import Image
import sys

useage = 'useage:\nencode: python hideinfo.py IMG INFO OUTPUT\ndecode: python hideinfo.py IMG'

def encode_img(img, info, output):
    img = Image.open(img)

    d = open(info)
    info = d.read()
    d.close()

    img = stepic.encode(img, info)

    img.save(output)


def decode_img(img):
    img = Image.open(img)
    print stepic.decode(img)

if len(sys.argv) == 2:
    decode_img(sys.argv[1])
elif len(sys.argv) == 4:
    encode_img(sys.argv[1], sys.argv[2], sys.argv[3])
else:
    print useage
```

