{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{797:function(s,e,t){\"use strict\";t.r(e);var l=t(1),n=Object(l.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[t(\"h2\",{attrs:{id:\"_2018-网鼎杯第一场-clip\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2018-网鼎杯第一场-clip\"}},[s._v(\"#\")]),s._v(\" 2018 网鼎杯第一场 clip\")]),s._v(\" \"),t(\"p\",[s._v(\"通过010 editor 可以看到文件的头部包含有 cloop 字样，搜了搜发现这是一个古老的 linux 压缩后的设备，题目中又说这个设备损坏了，所以就想办法找一个正常的。于是搜索如何压缩得到一个 cloop 文件，如下\")]),s._v(\" \"),t(\"div\",{staticClass:\"language- line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[s._v(\"mkisofs -r test | create_compressed_fs - 65536 > test.cloop\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"参考https://github.com/KlausKnopper/cloop，于是压缩一个文件，然后发现源文件文件头存在问题，于是进行修复，从而考虑如何从 cloop 文件中提取文件，即使用\")]),s._v(\" \"),t(\"div\",{staticClass:\"language- line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[s._v(\"extract_compressed_fs test.cloop now\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\")])]),t(\"p\",[s._v(\"参考https://manned.org/create_compressed_fs/f2f838da。\")]),s._v(\" \"),t(\"p\",[s._v(\"得到一个 ext4 类型的文件，进一步想办法获取这个文件系统的内容\")]),s._v(\" \"),t(\"div\",{staticClass:\"language- line-numbers-mode\"},[t(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[t(\"code\",[s._v(\"➜  clip losetup -d /dev/loop0\\nlosetup: /dev/loop0: detach failed: Permission denied\\n➜  clip sudo losetup -d /dev/loop0\\n➜  clip sudo losetup /dev/loop0 now                                                 \\nlosetup: now: failed to set up loop device: Device or resource busy\\n➜  clip sudo losetup /dev/loop0 /home/iromise/ctf/2018/0820网鼎杯/misc/clip/now        \\nlosetup: /home/iromise/ctf/2018/0820网鼎杯/misc/clip/now: failed to set up loop device: Device or resource busy\\n➜  clip losetup -f           \\n/dev/loop10\\n➜  clip sudo losetup /dev/loop10 /home/iromise/ctf/2018/0820网鼎杯/misc/clip/now\\n➜  clip sudo mount /dev/loop10 /mnt/now\\n➜  clip cd /mnt/now \\n➜  now ls        \\nclip-clip.png  clip-clop.png  clop-clip.png  clop-clop.jpg  flag.png\\n\")])]),s._v(\" \"),t(\"div\",{staticClass:\"line-numbers-wrapper\"},[t(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),t(\"br\"),t(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),t(\"br\")])]),t(\"p\",[s._v(\"最后一步就是修复 flag 了。就是少了文件头那几个字符。\")]),s._v(\" \"),t(\"hr\"),s._v(\" \"),t(\"h2\",{attrs:{id:\"引用本文\"}},[t(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#引用本文\"}},[s._v(\"#\")]),s._v(\" 引用本文\")]),s._v(\" \"),t(\"ul\",[t(\"li\",[t(\"RouterLink\",{attrs:{to:\"/docs/security/ctf/Misc/8.磁盘内存分析.html\"}},[s._v(\"磁盘内存分析\")])],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);","extractedComments":[]}